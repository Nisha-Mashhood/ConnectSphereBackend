{"version":3,"file":"i-collaboration-repositry.js","sourceRoot":"","sources":["../../../src/Interfaces/Repository/i-collaboration-repositry.ts"],"names":[],"mappings":"","sourcesContent":["import { UserIds } from \"../../Utils/types/notification-types\";\r\nimport { ICollaboration } from \"../Models/i-collaboration\";\r\nimport { IMentorRequest } from \"../Models/i-mentor-request\";\r\nimport { LockedSlot } from \"../../Utils/types/collaboration-types\";\r\nimport { ClientSession } from \"mongoose\";\r\n\r\nexport interface ICollaborationRepository {\r\n  findById(id: string): Promise<ICollaboration | null>;\r\n  createTemporaryRequest(data: Partial<IMentorRequest>): Promise<IMentorRequest>;\r\n  getMentorRequestsByMentorId(mentorId: string): Promise<IMentorRequest[]>;\r\n  findMentorRequestById(id: string): Promise<IMentorRequest | null>;\r\n  updateMentorRequestStatus(id: string, status?: string | \"Pending\"): Promise<IMentorRequest | null>;\r\n  getRequestByUserId(userId: string): Promise<IMentorRequest[]>;\r\n  createCollaboration(collaborationData: Partial<ICollaboration>, session?: ClientSession): Promise<ICollaboration>;\r\n  deleteMentorRequest(requestId: string, session?: ClientSession): Promise<void>;\r\n  findCollabById(collabId: string): Promise<ICollaboration | null>;\r\n  deleteCollabById(collabId: string): Promise<ICollaboration | null>;\r\n  markCollabAsCancelled(collabId: string): Promise<ICollaboration | null>;\r\n  updateCollabFeedback(collabId: string): Promise<ICollaboration | null>;\r\n  getCollabDataForUser(userId: string): Promise<ICollaboration[]>;\r\n  getCollabDataForMentor(mentorId: string): Promise<ICollaboration[]>;\r\n  findByIdAndUpdateWithPopulate(id: string, update: Partial<ICollaboration>, options?: { new: boolean; } ): Promise<ICollaboration | null>;\r\n  findMentorRequest(params: {\r\n    page: number;\r\n    limit: number;\r\n    search: string;\r\n  }): Promise<{ requests: IMentorRequest[]; total: number; page: number; pages: number }>;\r\n  findCollab(params: {\r\n    page: number;\r\n    limit: number;\r\n    search: string;\r\n  }): Promise<{ collabs: ICollaboration[]; total: number; page: number; pages: number }>;\r\n  fetchMentorRequestDetails(requestId: string): Promise<IMentorRequest | null>;\r\n  findCollabDetails(collabId: string): Promise<ICollaboration | null>;\r\n  updateUnavailableDays(\r\n    collabId: string,\r\n    updateData: {\r\n      datesAndReasons: { date: Date; reason: string }[];\r\n      requestedBy: \"user\" | \"mentor\";\r\n      requesterId: string;\r\n      approvedById: string;\r\n      isApproved: \"pending\" | \"approved\" | \"rejected\";\r\n    }\r\n  ): Promise<ICollaboration | null>;\r\n  updateTemporarySlotChanges(\r\n    collabId: string,\r\n    updateData: {\r\n      datesAndNewSlots: { date: Date; newTimeSlots: string[] }[];\r\n      requestedBy: \"user\" | \"mentor\";\r\n      requesterId: string;\r\n      approvedById: string;\r\n      isApproved: \"pending\" | \"approved\" | \"rejected\";\r\n    }\r\n  ): Promise<ICollaboration | null>;\r\n  updateRequestStatus(\r\n    collabId: string,\r\n    requestId: string,\r\n    requestType: \"unavailable\" | \"timeSlot\",\r\n    status: \"approved\" | \"rejected\",\r\n    newEndDate?: Date\r\n  ): Promise<ICollaboration | null>;\r\n  getLockedSlotsByMentorId(mentorId: string): Promise<LockedSlot[]>;\r\n  findByMentorId(mentorId: string): Promise<ICollaboration[]>;\r\n  findByDateRange(startDate: Date, endDate: Date): Promise<ICollaboration[]>;\r\n  findByIdAndUpdate(id: string, update: Partial<ICollaboration>, options?: { new?: boolean }): Promise<ICollaboration | null>;\r\n  getMentorIdAndUserId(collaborationId: string): Promise<UserIds | null>\r\n}"]}