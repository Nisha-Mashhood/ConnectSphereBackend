{"version":3,"file":"i-collaboration-service.js","sourceRoot":"","sources":["../../../src/Interfaces/Services/i-collaboration-service.ts"],"names":[],"mappings":"","sourcesContent":["import { Types } from \"mongoose\";\r\nimport { IMentorRequest } from \"../Models/i-mentor-request\";\r\nimport { LockedSlot } from \"../../Utils/types/collaboration-types\";\r\nimport { IMentorRequestDTO } from \"../DTOs/i-mentor-request-dto\";\r\nimport { ICollaborationDTO } from \"../DTOs/i-collaboration-dto\";\r\n\r\nexport interface ICollaborationService {\r\n  TemporaryRequestService: (requestData: Partial<IMentorRequest>) => Promise<IMentorRequestDTO | null>;\r\n  getMentorRequests: (mentorId: string) => Promise<IMentorRequestDTO[]>;\r\n  acceptRequest: (requestId: string) => Promise<IMentorRequestDTO | null>;\r\n  rejectRequest: (requestId: string) => Promise<IMentorRequestDTO | null>;\r\n  getRequestForUser: (userId: string) => Promise<IMentorRequestDTO[]>;\r\n  processPaymentService: (\r\n    paymentMethodId: string,\r\n    amount: number,\r\n    requestId: string,\r\n    mentorRequestData: Partial<IMentorRequest>,\r\n    email: string,\r\n    returnUrl: string\r\n  ) => Promise<{ paymentIntent: any; contacts?: any[] }>;\r\n  getCollabDataForUserService: (userId: string, includeCompleted: boolean) => Promise<ICollaborationDTO[]>;\r\n  getCollabDataForMentorService: (mentorId: string, includeCompleted: boolean) => Promise<ICollaborationDTO[]>;\r\n  cancelAndRefundCollab: (collabId: string, reason: string, amount: number) => Promise<ICollaborationDTO | null>;\r\n  getMentorRequestsService: (params: {\r\n    page: number;\r\n    limit: number;\r\n    search: string;\r\n  }) => Promise<{\r\n    requests: IMentorRequestDTO[];\r\n    total: number;\r\n    page: number;\r\n    pages: number;\r\n  }>;\r\n  getCollabsService: (params: {\r\n    page: number;\r\n    limit: number;\r\n    search: string;\r\n  }) => Promise<{\r\n    collabs: ICollaborationDTO[];\r\n    total: number;\r\n    page: number;\r\n    pages: number;\r\n  }>;\r\n  fetchCollabById: (collabId: string) => Promise<ICollaborationDTO | null>;\r\n  fetchRequestById: (requestId: string) => Promise<IMentorRequestDTO | null>;\r\n  markUnavailableDaysService: (\r\n    collabId: string,\r\n    updateData: {\r\n      datesAndReasons: { date: Date; reason: string }[];\r\n      requestedBy: \"user\" | \"mentor\";\r\n      requesterId: string;\r\n      approvedById: string;\r\n      isApproved: \"pending\" | \"approved\" | \"rejected\";\r\n    }\r\n  ) => Promise<ICollaborationDTO | null>;\r\n  updateTemporarySlotChangesService: (\r\n    collabId: string,\r\n    updateData: {\r\n      datesAndNewSlots: { date: Date; newTimeSlots: string[] }[];\r\n      requestedBy: \"user\" | \"mentor\";\r\n      requesterId: string;\r\n      approvedById: string;\r\n      isApproved: \"pending\" | \"approved\" | \"rejected\";\r\n    }\r\n  ) => Promise<ICollaborationDTO | null>;\r\n  processTimeSlotRequest: (\r\n    collabId: string,\r\n    requestId: string,\r\n    isApproved: boolean,\r\n    requestType: \"unavailable\" | \"timeSlot\"\r\n  ) => Promise<ICollaborationDTO | null>;\r\n  getMentorLockedSlots: (mentorId: string) => Promise<LockedSlot[]>;\r\n  getReceiptData: (collabId: string) => Promise<{\r\n    mentorUser: { name: string; email: string };\r\n    user: { name: string; email: string; _id: Types.ObjectId };\r\n    paymentIntent: any;\r\n    collab: ICollaborationDTO;\r\n  }>;\r\n  generateReceiptPDF: (collabId: string) => Promise<Buffer>;\r\n  deleteMentorRequestService(requestId: string): Promise<void>;\r\n}"]}