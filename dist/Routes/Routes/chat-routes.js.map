{"version":3,"file":"chat-routes.js","sourceRoot":"","sources":["../../../src/Routes/Routes/chat-routes.ts"],"names":[],"mappings":";;;;;AAAA,qCAAiC;AACjC,gEAAwC;AACxC,0DAAuD;AAEvD,oDAAiD;AACjD,iFAAoE;AAGpE,MAAM,MAAM,GAAG,IAAA,gBAAM,GAAE,CAAC;AACxB,MAAM,cAAc,GAAG,mBAAS,CAAC,GAAG,CAAkB,iBAAiB,CAAC,CAAC;AACzE,MAAM,cAAc,GAAG,mBAAS,CAAC,GAAG,CAAkB,iBAAiB,CAAC,CAAC;AAEzE,MAAM,CAAC,GAAG,CAAC,yBAAW,CAAC,WAAW,EAAE,CAAC,iCAAU,EAAE,cAAc,CAAC,WAAW,EAAE,cAAc,CAAC,kBAAkB,CAAE,EAAE,cAAc,CAAC,eAAe,CAAC,CAAC;AAClJ,MAAM,CAAC,IAAI,CAAC,yBAAW,CAAC,aAAa,EAAE,CAAC,iCAAU,EAAE,cAAc,CAAC,WAAW,EAAE,cAAc,CAAC,kBAAkB,EAAE,eAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,cAAc,CAAC,oBAAoB,CAAC,CAAC;AAChL,MAAM,CAAC,GAAG,CAAC,yBAAW,CAAC,eAAe,EAAE,CAAC,iCAAU,EAAE,cAAc,CAAC,WAAW,EAAE,cAAc,CAAC,kBAAkB,CAAC,EAAE,cAAc,CAAC,sBAAsB,CAAC,CAAC;AAC5J,MAAM,CAAC,GAAG,CAAC,yBAAW,CAAC,eAAe,EAAE,CAAC,iCAAU,EAAE,cAAc,CAAC,WAAW,EAAE,cAAc,CAAC,kBAAkB,CAAC,EAAE,cAAc,CAAC,uBAAuB,CAAC,CAAC;AAE7J,kBAAe,MAAM,CAAC","sourcesContent":["import { Router } from 'express';\r\nimport container from \"../../container\";\r\nimport { CHAT_ROUTES } from '../Constants/chat-routes';\r\nimport { IChatController } from '../../Interfaces/Controller/i-chat-controller';\r\nimport { upload } from '../../core/utils/multer';\r\nimport { apiLimiter } from '../../middlewares/ratelimit-middleware';\r\nimport { IAuthMiddleware } from '../../Interfaces/Middleware/i-auth-middleware';\r\n\r\nconst router = Router();\r\nconst chatController = container.get<IChatController>('IChatController');\r\nconst authMiddleware = container.get<IAuthMiddleware>('IAuthMiddleware');\r\n\r\nrouter.get(CHAT_ROUTES.GetMessages, [apiLimiter, authMiddleware.verifyToken, authMiddleware.checkBlockedStatus ], chatController.getChatMessages);\r\nrouter.post(CHAT_ROUTES.UploadMessage, [apiLimiter, authMiddleware.verifyToken, authMiddleware.checkBlockedStatus, upload.single('file')], chatController.uploadAndSaveMessage);\r\nrouter.get(CHAT_ROUTES.GetUnreadCounts, [apiLimiter, authMiddleware.verifyToken, authMiddleware.checkBlockedStatus], chatController.getUnreadMessageCounts);\r\nrouter.get(CHAT_ROUTES.GetLastMessages, [apiLimiter, authMiddleware.verifyToken, authMiddleware.checkBlockedStatus], chatController.getLastMessageSummaries);\r\n\r\nexport default router;\r\n"]}