{"version":3,"file":"group-routes.js","sourceRoot":"","sources":["../../../src/Routes/Routes/group-routes.ts"],"names":[],"mappings":"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","sourcesContent":["import express from \"express\";\r\nimport { apiLimiter } from \"../../middlewares/ratelimit-middleware\";\r\nimport { IAuthMiddleware } from '../../Interfaces/Middleware/i-auth-middleware';\r\nimport { upload } from \"../../core/utils/multer\";\r\nimport { GROUP_ROUTES } from \"../Constants/group-routes\";\r\nimport container from \"../../container\";\r\nimport { IGroupController } from \"../../Interfaces/Controller/i-group-controller\";\r\n\r\nconst router = express.Router();\r\nconst groupController = container.get<IGroupController>('IGroupController');\r\nconst authMiddleware = container.get<IAuthMiddleware>('IAuthMiddleware');\r\n\r\n\r\nrouter.post(\r\n  GROUP_ROUTES.CreateGroup,\r\n  [apiLimiter, authMiddleware.verifyToken, authMiddleware.checkBlockedStatus],\r\n  groupController.createGroup.bind(groupController)\r\n);\r\n\r\nrouter.get(\r\n  GROUP_ROUTES.FetchGroups,\r\n  [apiLimiter, authMiddleware.verifyToken, authMiddleware.checkBlockedStatus],\r\n  groupController.getGroupDetails.bind(groupController)\r\n);\r\n\r\nrouter.get(\r\n  GROUP_ROUTES.GetGroupById,\r\n  [apiLimiter, authMiddleware.verifyToken, authMiddleware.checkBlockedStatus],\r\n  groupController.getGroupById.bind(groupController)\r\n);\r\n\r\nrouter.get(\r\n  GROUP_ROUTES.GetAllGroups,\r\n  [apiLimiter, authMiddleware.verifyToken, authMiddleware.checkBlockedStatus],\r\n  groupController.getAllGroups.bind(groupController)\r\n);\r\n\r\nrouter.post(\r\n  GROUP_ROUTES.SendGroupRequest,\r\n  [apiLimiter, authMiddleware.verifyToken, authMiddleware.checkBlockedStatus],\r\n  groupController.sendGroupRequest.bind(groupController)\r\n);\r\n\r\nrouter.get(\r\n  GROUP_ROUTES.GetGroupRequestsByGroupId,\r\n  [apiLimiter, authMiddleware.verifyToken, authMiddleware.checkBlockedStatus],\r\n  groupController.getGroupRequestsByGroupId.bind(groupController)\r\n);\r\n\r\nrouter.get(\r\n  GROUP_ROUTES.GetGroupRequestsByAdminId,\r\n  [apiLimiter, authMiddleware.verifyToken, authMiddleware.checkBlockedStatus],\r\n  groupController.getGroupRequestsByAdminId.bind(groupController)\r\n);\r\n\r\nrouter.get(\r\n  GROUP_ROUTES.GetGroupRequestsByUserId,\r\n  [apiLimiter, authMiddleware.verifyToken, authMiddleware.checkBlockedStatus],\r\n  groupController.getGroupRequestsByUserId.bind(groupController)\r\n);\r\n\r\nrouter.put(\r\n  GROUP_ROUTES.UpdateGroupRequest,\r\n  [apiLimiter, authMiddleware.verifyToken, authMiddleware.checkBlockedStatus],\r\n  groupController.updateGroupRequest.bind(groupController)\r\n);\r\n\r\nrouter.post(\r\n  GROUP_ROUTES.ProcessPayment,\r\n  [apiLimiter, authMiddleware.verifyToken, authMiddleware.checkBlockedStatus],\r\n  groupController.makeStripePayment.bind(groupController)\r\n);\r\n\r\nrouter.delete(\r\n  GROUP_ROUTES.RemoveMember,\r\n  [apiLimiter, authMiddleware.verifyToken, authMiddleware.checkBlockedStatus],\r\n  groupController.removeGroupMember.bind(groupController)\r\n);\r\n\r\nrouter.delete(\r\n  GROUP_ROUTES.RemoveGroup,\r\n  [apiLimiter, authMiddleware.verifyToken, authMiddleware.checkBlockedStatus],\r\n  groupController.deleteGroup.bind(groupController)\r\n);\r\n\r\nrouter.put(\r\n  GROUP_ROUTES.UploadGroupPicture,\r\n  [\r\n    apiLimiter,\r\n    authMiddleware.verifyToken,\r\n    authMiddleware.checkBlockedStatus,\r\n    upload.fields([\r\n      { name: \"profilePic\", maxCount: 1 },\r\n      { name: \"coverPic\", maxCount: 1 },\r\n    ]),\r\n  ],\r\n  groupController.updateGroupImage.bind(groupController)\r\n);\r\n\r\nrouter.get(\r\n  GROUP_ROUTES.GetGroupDetailsForMembers,\r\n  [apiLimiter, authMiddleware.verifyToken, authMiddleware.checkBlockedStatus],\r\n  groupController.getGroupDetailsForMembers.bind(groupController)\r\n);\r\n\r\nrouter.get(\r\n  GROUP_ROUTES.GetGroupRequestById,\r\n  [apiLimiter, authMiddleware.verifyToken, authMiddleware.checkBlockedStatus],\r\n  groupController.getGroupRequestById.bind(groupController)\r\n);\r\n\r\nrouter.get(\r\n GROUP_ROUTES.GetAllGroupRequests,\r\n  [apiLimiter, authMiddleware.verifyToken, authMiddleware.authorize(\"admin\")],\r\n  groupController.getAllGroupRequests.bind(groupController)\r\n);\r\n\r\nexport default router;"]}