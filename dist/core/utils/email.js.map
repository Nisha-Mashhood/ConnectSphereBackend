{"version":3,"file":"email.js","sourceRoot":"","sources":["../../../src/core/utils/email.ts"],"names":[],"mappings":";;;;;;AAAA,4DAAoC;AACpC,yEAA6C;AAC7C,sDAA8B;AAE9B,MAAM,WAAW,GAAG,oBAAU,CAAC,eAAe,CAAC;IAC7C,OAAO,EAAE,oBAAM,CAAC,YAAY;IAC5B,IAAI,EAAE;QACJ,IAAI,EAAE,oBAAM,CAAC,SAAS;QACtB,IAAI,EAAE,oBAAM,CAAC,aAAa;KAC3B;CACF,CAAC,CAAC;AAEI,MAAM,SAAS,GAAG,KAAK,EAAE,EAAsB,EAAE,OAAe,EAAE,IAAY,EAAE,EAAE;IAEvF,IAAG,CAAC,EAAE,EAAC,CAAC;QACN,MAAM,IAAI,KAAK,CAAC,+CAA+C,CAAC,CAAC;IACnE,CAAC;IACD,IAAI,CAAC;QACH,MAAM,WAAW,CAAC,QAAQ,CAAC;YACzB,IAAI,EAAC,oBAAM,CAAC,SAAS;YACrB,EAAE;YACF,OAAO;YACP,IAAI;SACL,CAAC,CAAC;IACL,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACf,gBAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACnB,MAAM,IAAI,KAAK,CAAC,uBAAuB,CAAC,CAAC;IAC3C,CAAC;AACH,CAAC,CAAC;AAhBW,QAAA,SAAS,aAgBpB","sourcesContent":["import nodemailer from 'nodemailer';\r\nimport config from '../../config/env-config';\r\nimport logger from './logger';\r\n\r\nconst transporter = nodemailer.createTransport({\r\n  service: config.emailService,\r\n  auth: {\r\n    user: config.emailUser ,\r\n    pass: config.emailPassword, \r\n  },\r\n});\r\n\r\nexport const sendEmail = async (to: string | undefined, subject: string, text: string) => {\r\n\r\n  if(!to){\r\n    throw new Error(' To address is undefined Failed to send Email');\r\n  }\r\n  try {\r\n    await transporter.sendMail({\r\n      from:config.emailUser,\r\n      to,\r\n      subject,\r\n      text,\r\n    });\r\n  } catch (error) {\r\n    logger.info(error);\r\n    throw new Error('Failed to send email.');\r\n  }\r\n};\r\n\r\n"]}