{"version":3,"file":"call-service.js","sourceRoot":"","sources":["../../src/services/call-service.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA,yCAA+C;AAC/C,kEAA0C;AAC1C,+DAA2D;AAMpD,IAAM,WAAW,GAAjB,MAAM,WAAW;IAGtB,YAA0C,iBAAsC;QAIzE,wBAAmB,GAAG,KAAK,EAAC,MAAe,EAAgC,EAAE;YAClF,IAAI,CAAC;gBACH,IAAI,CAAC,MAAM,EAAE,CAAC;oBACZ,gBAAM,CAAC,KAAK,CAAC,qBAAqB,CAAC,CAAC;oBACpC,MAAM,IAAI,4BAAY,CAAC,qBAAqB,CAAC,CAAC;gBAChD,CAAC;gBACD,gBAAM,CAAC,KAAK,CAAC,kCAAkC,MAAM,EAAE,CAAC,CAAC;gBACzD,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;gBAC5E,gBAAM,CAAC,IAAI,CAAC,aAAa,QAAQ,CAAC,MAAM,0BAA0B,MAAM,EAAE,CAAC,CAAC;gBAC5E,OAAO,QAAQ,CAAC;YAClB,CAAC;YAAC,OAAO,KAAU,EAAE,CAAC;gBACpB,gBAAM,CAAC,KAAK,CAAC,6CAA6C,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;gBAC3E,MAAM,IAAI,4BAAY,CAAC,8BAA8B,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;YACxE,CAAC;QACH,CAAC,CAAA;QAjBC,IAAI,CAAC,kBAAkB,GAAG,iBAAiB,CAAC;IAC9C,CAAC;CAiBF,CAAA;AAtBY,kCAAW;sBAAX,WAAW;IADvB,IAAA,sBAAU,GAAE;IAIE,WAAA,IAAA,kBAAM,EAAC,oBAAoB,CAAC,CAAA;;GAH9B,WAAW,CAsBvB","sourcesContent":["import { inject, injectable } from \"inversify\";\r\nimport logger from \"../core/utils/logger\";\r\nimport { ServiceError } from \"../core/utils/error-handler\";\r\nimport { ICallLogPopulated } from \"../Utils/types/call-types\";\r\nimport { ICallService } from \"../Interfaces/Services/i-call-service\";\r\nimport { ICallLogRepository } from \"../Interfaces/Repository/i-call-repositry\";\r\n\r\n@injectable()\r\nexport class CallService implements ICallService{\r\n  private _callLogRepository: ICallLogRepository;\r\n\r\n  constructor(@inject('ICallLogRepository') callLogRepository : ICallLogRepository ) {\r\n    this._callLogRepository = callLogRepository;\r\n  }\r\n\r\n  public getCallLogsByUserId = async(userId?: string): Promise<ICallLogPopulated[]> => {\r\n    try {\r\n      if (!userId) {\r\n        logger.error(\"User ID is required\");\r\n        throw new ServiceError(\"User ID is required\");\r\n      }\r\n      logger.debug(`Fetching call logs for userId: ${userId}`);\r\n      const callLogs = await this._callLogRepository.findCallLogsByUserId(userId);\r\n      logger.info(`Retrieved ${callLogs.length} call logs for userId: ${userId}`);\r\n      return callLogs;\r\n    } catch (error: any) {\r\n      logger.error(`Error in CallService.getCallLogsByUserId: ${error.message}`);\r\n      throw new ServiceError(`Failed to fetch call logs: ${error.message}`);\r\n    }\r\n  }\r\n}"]}